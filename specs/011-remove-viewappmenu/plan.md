# Implementation Plan: Remove Unused ViewAppMenu Code

**Branch**: `001-remove-viewappmenu` | **Date**: 2026-01-28 | **Spec**: [spec.md](./spec.md)
**Input**: Feature specification from `/specs/011-remove-viewappmenu/spec.md`

## Summary

Remove dead code (`ViewAppMenu` constant, `viewAppMenu()` function, `handleAppMenuEnter()` function, and 5 case handlers) from `tui/internal/ui/model.go`. This code was replaced by `ViewToolDetail` during the TUI Dashboard Consistency migration and is now unreachable.

## Technical Context

**Language/Version**: Go 1.23+
**Primary Dependencies**: Bubbletea (TUI framework), Lipgloss (styling)
**Storage**: N/A
**Testing**: `go build`, `go vet`, `go fmt`
**Target Platform**: Linux (Ubuntu 25.04+)
**Project Type**: Single project (TUI application)
**Performance Goals**: N/A (code removal only)
**Constraints**: Must not break existing TUI functionality
**Scale/Scope**: Single file modification (~142 lines removed)

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

| Principle | Status | Notes |
|-----------|--------|-------|
| I. Script Consolidation | ✅ PASS | No new scripts created; modifying existing Go code |
| II. Branch Preservation | ✅ PASS | Using timestamped branch `001-remove-viewappmenu` |
| III. Local-First CI/CD | ✅ PASS | Will verify with `go build`, `go vet`, `go fmt` locally |
| IV. Modularity Limits | ✅ PASS | Reducing code, not adding; `model.go` stays under 300 lines delta |
| V. Symlink Single Source | ✅ PASS | Not touching AGENTS.md, CLAUDE.md, or GEMINI.md |

**Protected Files Check**: No protected files affected.

**Pre-Design Gate**: ✅ PASSED - All constitutional principles satisfied.

## Project Structure

### Documentation (this feature)

```text
specs/011-remove-viewappmenu/
├── plan.md              # This file
├── research.md          # Phase 0 output (minimal - no unknowns)
├── spec.md              # Feature specification
└── tasks.md             # Phase 2 output (generated by /speckit.tasks)
```

### Source Code (repository root)

```text
tui/
└── internal/
    └── ui/
        └── model.go     # Single file containing all ViewAppMenu code
```

**Structure Decision**: Single file modification in existing TUI codebase. No new files or directories needed.

## Complexity Tracking

> No violations to justify - this is a simple code deletion task.

| Violation | Why Needed | Simpler Alternative Rejected Because |
|-----------|------------|-------------------------------------|
| None | N/A | N/A |

## Implementation Approach

### Removal Targets (7 items)

| # | Item | Location | Lines |
|---|------|----------|-------|
| 1 | `ViewAppMenu` constant | View const block | 1 |
| 2 | Up arrow case handler | `handleKeyPress()` | 4 |
| 3 | Down arrow case handler | `handleKeyPress()` | 5 |
| 4 | Enter case handler | `handleEnter()` | 2 |
| 5 | View() case handler | `View()` | 2 |
| 6 | `viewAppMenu()` function | model.go | 64 |
| 7 | `handleAppMenuEnter()` function | model.go | 60 |

**Total**: ~142 lines to remove

### Verification Steps

1. `grep -r "ViewAppMenu" tui/` → Zero matches
2. `go fmt ./internal/ui/model.go` → No formatting issues
3. `go build ./...` → Exit code 0 (note: pre-existing module path issues may cause unrelated errors)
4. `go vet ./...` → No errors in modified code

## Post-Design Constitution Check

| Principle | Status | Notes |
|-----------|--------|-------|
| I. Script Consolidation | ✅ PASS | No scripts created |
| II. Branch Preservation | ✅ PASS | Branch preserved |
| III. Local-First CI/CD | ✅ PASS | Local verification complete |
| IV. Modularity Limits | ✅ PASS | Code reduced by 142 lines |
| V. Symlink Single Source | ✅ PASS | No symlinks touched |

**Post-Design Gate**: ✅ PASSED
